import { __decorate, __param } from "tslib";
import { PLATFORM_ID } from '@angular/core';
import { isPlatformBrowser } from '@angular/common';
import { NgZone, Inject, Optional, ElementRef, Component, AfterViewInit, OnDestroy, Input, Output, EventEmitter, ViewChild, ViewEncapsulation, ChangeDetectorRef } from '@angular/core';
import { SwiperDirective } from './swiper.directive';
import { SWIPER_CONFIG, SwiperConfig, SwiperEvents } from './swiper.interfaces';
let SwiperComponent = class SwiperComponent {
    constructor(zone, cdRef, platformId, defaults) {
        this.zone = zone;
        this.cdRef = cdRef;
        this.platformId = platformId;
        this.defaults = defaults;
        this.mo = null;
        this.swiperConfig = null;
        this.paginationBackup = null;
        this.paginationConfig = null;
        this.index = null;
        this.disabled = false;
        this.performance = false;
        this.useSwiperClass = true;
        this.indexChange = new EventEmitter();
        this.S_INIT = new EventEmitter();
        this.S_BEFOREDESTROY = new EventEmitter();
        this.S_SCROLL = new EventEmitter();
        this.S_PROGRESS = new EventEmitter();
        this.S_KEYPRESS = new EventEmitter();
        this.S_RESIZE = new EventEmitter();
        this.S_BREAKPOINT = new EventEmitter();
        this.S_ZOOMCHANGE = new EventEmitter();
        this.S_AFTERRESIZE = new EventEmitter();
        this.S_BEFORERESIZE = new EventEmitter();
        this.S_BEFORELOOPFIX = new EventEmitter();
        this.S_LOOPFIX = new EventEmitter();
        this.S_SLIDERMOVE = new EventEmitter();
        this.S_SLIDECHANGE = new EventEmitter();
        this.S_SETTRANSLATE = new EventEmitter();
        this.S_SETTRANSITION = new EventEmitter();
        this.S_FROMEDGE = new EventEmitter();
        this.S_REACHEND = new EventEmitter();
        this.S_REACHBEGINNING = new EventEmitter();
        this.S_AUTOPLAY = new EventEmitter();
        this.S_AUTOPLAYSTART = new EventEmitter();
        this.S_AUTOPLAYSTOP = new EventEmitter();
        this.S_IMAGESREADY = new EventEmitter();
        this.S_LAZYIMAGELOAD = new EventEmitter();
        this.S_LAZYIMAGEREADY = new EventEmitter();
        this.S_SCROLLDRAGEND = new EventEmitter();
        this.S_SCROLLDRAGMOVE = new EventEmitter();
        this.S_SCROLLDRAGSTART = new EventEmitter();
        this.S_NAVIGATIONHIDE = new EventEmitter();
        this.S_NAVIGATIONSHOW = new EventEmitter();
        this.S_PAGINATIONRENDER = new EventEmitter();
        this.S_PAGINATIONUPDATE = new EventEmitter();
        this.S_PAGINATIONHIDE = new EventEmitter();
        this.S_PAGINATIONSHOW = new EventEmitter();
        this.S_TAP = new EventEmitter();
        this.S_CLICK = new EventEmitter();
        this.S_DOUBLETAP = new EventEmitter();
        this.S_TOUCHEND = new EventEmitter();
        this.S_TOUCHMOVE = new EventEmitter();
        this.S_TOUCHSTART = new EventEmitter();
        this.S_TOUCHMOVEOPPOSITE = new EventEmitter();
        this.S_TRANSITIONEND = new EventEmitter();
        this.S_TRANSITIONSTART = new EventEmitter();
        this.S_SLIDEPREVTRANSITIONEND = new EventEmitter();
        this.S_SLIDEPREVTRANSITIONSTART = new EventEmitter();
        this.S_SLIDENEXTTRANSITIONEND = new EventEmitter();
        this.S_SLIDENEXTTRANSITIONSTART = new EventEmitter();
        this.S_SLIDECHANGETRANSITIONEND = new EventEmitter();
        this.S_SLIDECHANGETRANSITIONSTART = new EventEmitter();
    }
    get isAtLast() {
        return (!this.directiveRef || !this.directiveRef.swiper()) ?
            false : this.directiveRef.swiper()['isEnd'];
    }
    get isAtFirst() {
        return (!this.directiveRef || !this.directiveRef.swiper()) ?
            false : this.directiveRef.swiper()['isBeginning'];
    }
    ngAfterViewInit() {
        if (!isPlatformBrowser(this.platformId)) {
            return;
        }
        this.zone.runOutsideAngular(() => {
            this.updateClasses();
            if (this.swiperSlides && typeof MutationObserver !== 'undefined') {
                this.mo = new MutationObserver(() => {
                    this.updateClasses();
                });
                this.mo.observe(this.swiperSlides.nativeElement, { childList: true });
            }
        });
        window.setTimeout(() => {
            if (this.directiveRef) {
                this.S_INIT.emit();
                this.directiveRef.indexChange = this.indexChange;
                SwiperEvents.forEach((eventName) => {
                    if (this.directiveRef) {
                        const output = `S_${eventName.replace('swiper', '').toUpperCase()}`;
                        const directiveOutput = output;
                        const componentOutput = output;
                        this.directiveRef[directiveOutput] = this[componentOutput];
                    }
                });
            }
        }, 0);
    }
    ngOnDestroy() {
        if (this.mo) {
            this.mo.disconnect();
        }
        if (this.config && this.paginationBackup) {
            this.config.pagination = this.paginationBackup;
        }
    }
    getConfig() {
        this.swiperConfig = new SwiperConfig(this.defaults);
        this.swiperConfig.assign(this.config); // Custom configuration
        if (this.swiperSlides && (this.swiperConfig.pagination === true ||
            (this.swiperConfig.pagination && typeof this.swiperConfig.pagination === 'object' &&
                (!this.swiperConfig.pagination.type || this.swiperConfig.pagination.type === 'bullets') &&
                !this.swiperConfig.pagination.renderBullet && this.swiperConfig.pagination.el === '.swiper-pagination'))) {
            this.config = this.config || {};
            if (!this.paginationConfig) {
                this.paginationBackup = this.config.pagination;
                this.paginationConfig = {
                    el: '.swiper-pagination',
                    renderBullet: (index, className) => {
                        let children = this.swiperSlides ? Array.from(this.swiperSlides.nativeElement.children) : [];
                        children = children.filter((child) => child.classList.contains('swiper-slide'));
                        let bullet = `<span class="${className} ${className}-middle" index="${index}"></span>`;
                        if (index === 0) {
                            bullet = `<span class="${className} ${className}-first" index="${index}"></span>`;
                        }
                        else if (index === (children.length - 1)) {
                            bullet = `<span class="${className} ${className}-last" index="${index}"></span>`;
                        }
                        return `<span class="swiper-pagination-handle" index="${index}">${bullet}</span>`;
                    }
                };
            }
            if (this.swiperConfig.pagination === true) {
                this.config.pagination = this.paginationConfig;
            }
            else {
                this.config.pagination = Object.assign({}, this.config.pagination, this.paginationConfig);
            }
        }
        return this.config;
    }
    updateClasses() {
        if (this.swiperSlides) {
            let updateNeeded = false;
            const children = this.swiperSlides.nativeElement.children;
            for (let i = 0; i < children.length; i++) {
                if (/swiper-.*/.test(children[i].className) === false) {
                    updateNeeded = true;
                    children[i].classList.add('swiper-slide');
                }
            }
            if (updateNeeded && this.directiveRef) {
                this.directiveRef.update();
            }
        }
        this.cdRef.detectChanges();
    }
    onPaginationClick(index) {
        if (this.config && this.directiveRef && (this.config.pagination === true ||
            (this.config.pagination && typeof this.config.pagination === 'object' &&
                (!this.config.pagination.type || this.config.pagination.type === 'bullets') &&
                (this.config.pagination.clickable && this.config.pagination.el === '.swiper-pagination')))) {
            this.directiveRef.setIndex(index);
        }
    }
};
SwiperComponent.ctorParameters = () => [
    { type: NgZone },
    { type: ChangeDetectorRef },
    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },
    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [SWIPER_CONFIG,] }] }
];
__decorate([
    Input()
], SwiperComponent.prototype, "index", void 0);
__decorate([
    Input()
], SwiperComponent.prototype, "disabled", void 0);
__decorate([
    Input()
], SwiperComponent.prototype, "performance", void 0);
__decorate([
    Input()
], SwiperComponent.prototype, "config", void 0);
__decorate([
    Input()
], SwiperComponent.prototype, "useSwiperClass", void 0);
__decorate([
    Output()
], SwiperComponent.prototype, "indexChange", void 0);
__decorate([
    ViewChild('swiperSlides', { static: false })
], SwiperComponent.prototype, "swiperSlides", void 0);
__decorate([
    ViewChild(SwiperDirective, { static: false })
], SwiperComponent.prototype, "directiveRef", void 0);
__decorate([
    Output('init')
], SwiperComponent.prototype, "S_INIT", void 0);
__decorate([
    Output('beforeDestroy')
], SwiperComponent.prototype, "S_BEFOREDESTROY", void 0);
__decorate([
    Output('scroll')
], SwiperComponent.prototype, "S_SCROLL", void 0);
__decorate([
    Output('progress')
], SwiperComponent.prototype, "S_PROGRESS", void 0);
__decorate([
    Output('keyPress')
], SwiperComponent.prototype, "S_KEYPRESS", void 0);
__decorate([
    Output('resize')
], SwiperComponent.prototype, "S_RESIZE", void 0);
__decorate([
    Output('breakpoint')
], SwiperComponent.prototype, "S_BREAKPOINT", void 0);
__decorate([
    Output('zoomChange')
], SwiperComponent.prototype, "S_ZOOMCHANGE", void 0);
__decorate([
    Output('afterResize')
], SwiperComponent.prototype, "S_AFTERRESIZE", void 0);
__decorate([
    Output('beforeResize')
], SwiperComponent.prototype, "S_BEFORERESIZE", void 0);
__decorate([
    Output('beforeLoopFix')
], SwiperComponent.prototype, "S_BEFORELOOPFIX", void 0);
__decorate([
    Output('loopFix')
], SwiperComponent.prototype, "S_LOOPFIX", void 0);
__decorate([
    Output('sliderMove')
], SwiperComponent.prototype, "S_SLIDERMOVE", void 0);
__decorate([
    Output('slideChange')
], SwiperComponent.prototype, "S_SLIDECHANGE", void 0);
__decorate([
    Output('setTranslate')
], SwiperComponent.prototype, "S_SETTRANSLATE", void 0);
__decorate([
    Output('setTransition')
], SwiperComponent.prototype, "S_SETTRANSITION", void 0);
__decorate([
    Output('fromEdge')
], SwiperComponent.prototype, "S_FROMEDGE", void 0);
__decorate([
    Output('reachEnd')
], SwiperComponent.prototype, "S_REACHEND", void 0);
__decorate([
    Output('reachBeginning')
], SwiperComponent.prototype, "S_REACHBEGINNING", void 0);
__decorate([
    Output('autoplay')
], SwiperComponent.prototype, "S_AUTOPLAY", void 0);
__decorate([
    Output('autoplayStart')
], SwiperComponent.prototype, "S_AUTOPLAYSTART", void 0);
__decorate([
    Output('autoplayStop')
], SwiperComponent.prototype, "S_AUTOPLAYSTOP", void 0);
__decorate([
    Output('imagesReady')
], SwiperComponent.prototype, "S_IMAGESREADY", void 0);
__decorate([
    Output('lazyImageLoad')
], SwiperComponent.prototype, "S_LAZYIMAGELOAD", void 0);
__decorate([
    Output('lazyImageReady')
], SwiperComponent.prototype, "S_LAZYIMAGEREADY", void 0);
__decorate([
    Output('scrollDragEnd')
], SwiperComponent.prototype, "S_SCROLLDRAGEND", void 0);
__decorate([
    Output('scrollDragMove')
], SwiperComponent.prototype, "S_SCROLLDRAGMOVE", void 0);
__decorate([
    Output('scrollDragStart')
], SwiperComponent.prototype, "S_SCROLLDRAGSTART", void 0);
__decorate([
    Output('navigationHide')
], SwiperComponent.prototype, "S_NAVIGATIONHIDE", void 0);
__decorate([
    Output('navigationShow')
], SwiperComponent.prototype, "S_NAVIGATIONSHOW", void 0);
__decorate([
    Output('paginationRender')
], SwiperComponent.prototype, "S_PAGINATIONRENDER", void 0);
__decorate([
    Output('paginationUpdate')
], SwiperComponent.prototype, "S_PAGINATIONUPDATE", void 0);
__decorate([
    Output('paginationHide')
], SwiperComponent.prototype, "S_PAGINATIONHIDE", void 0);
__decorate([
    Output('paginationShow')
], SwiperComponent.prototype, "S_PAGINATIONSHOW", void 0);
__decorate([
    Output('swiperTap')
], SwiperComponent.prototype, "S_TAP", void 0);
__decorate([
    Output('swiperClick')
], SwiperComponent.prototype, "S_CLICK", void 0);
__decorate([
    Output('swiperDoubleTap')
], SwiperComponent.prototype, "S_DOUBLETAP", void 0);
__decorate([
    Output('swiperTouchEnd')
], SwiperComponent.prototype, "S_TOUCHEND", void 0);
__decorate([
    Output('swiperTouchMove')
], SwiperComponent.prototype, "S_TOUCHMOVE", void 0);
__decorate([
    Output('swiperTouchStart')
], SwiperComponent.prototype, "S_TOUCHSTART", void 0);
__decorate([
    Output('swiperTouchMoveOpposite')
], SwiperComponent.prototype, "S_TOUCHMOVEOPPOSITE", void 0);
__decorate([
    Output('swiperTransitionEnd')
], SwiperComponent.prototype, "S_TRANSITIONEND", void 0);
__decorate([
    Output('swiperTransitionStart')
], SwiperComponent.prototype, "S_TRANSITIONSTART", void 0);
__decorate([
    Output('slidePrevTransitionEnd')
], SwiperComponent.prototype, "S_SLIDEPREVTRANSITIONEND", void 0);
__decorate([
    Output('slidePrevTransitionStart')
], SwiperComponent.prototype, "S_SLIDEPREVTRANSITIONSTART", void 0);
__decorate([
    Output('slideNextTransitionEnd')
], SwiperComponent.prototype, "S_SLIDENEXTTRANSITIONEND", void 0);
__decorate([
    Output('slideNextTransitionStart')
], SwiperComponent.prototype, "S_SLIDENEXTTRANSITIONSTART", void 0);
__decorate([
    Output('slideChangeTransitionEnd')
], SwiperComponent.prototype, "S_SLIDECHANGETRANSITIONEND", void 0);
__decorate([
    Output('slideChangeTransitionStart')
], SwiperComponent.prototype, "S_SLIDECHANGETRANSITIONSTART", void 0);
SwiperComponent = __decorate([
    Component({
        selector: 'swiper',
        exportAs: 'ngxSwiper',
        template: "<div #swiper class=\"s-wrapper\" [class.swiper]=\"useSwiperClass\" [class.swiper-container]=\"useSwiperClass\" [swiper]=\"getConfig()\" [index]=\"index\" [disabled]=\"disabled\" [performance]=\"performance\">\n  <div #swiperSlides class=\"swiper-wrapper\">\n    <ng-content></ng-content>\n  </div>\n\n  <div class=\"swiper-scrollbar\" [hidden]=\"!swiperConfig?.scrollbar || (swiperConfig?.scrollbar !== true && !!swiperConfig?.scrollbar?.el && swiperConfig?.scrollbar?.el !== '.swiper-scrollbar')\"></div>\n\n  <div class=\"swiper-button-prev\" [hidden]=\"!swiperConfig?.navigation || (swiperConfig?.navigation !== true && !!swiperConfig?.navigation?.prevEl && swiperConfig?.navigation?.prevEl !== '.swiper-button-prev')\" [attr.disabled]=\"isAtFirst ||\u00A0null\"></div>\n  <div class=\"swiper-button-next\" [hidden]=\"!swiperConfig?.navigation || (swiperConfig?.navigation !== true && !!swiperConfig?.navigation?.nextEl && swiperConfig?.navigation?.nextEl !== '.swiper-button-next')\" [attr.disabled]=\"isAtLast || null\"></div>\n\n  <div class=\"swiper-pagination\" [hidden]=\"!swiperConfig?.pagination || (swiperConfig?.pagination !== true && !!swiperConfig?.pagination?.el && swiperConfig?.pagination?.el !== '.swiper-pagination')\" (click)=\"onPaginationClick($event.target.getAttribute('index'))\" (keyup.enter)=\"onPaginationClick($event.target.getAttribute('index'))\"></div>\n</div>\n",
        encapsulation: ViewEncapsulation.None,
        styles: ["swiper[fxflex]{display:-webkit-box;display:flex;flex-direction:inherit;min-width:0;min-height:0;-webkit-box-direction:inherit;-webkit-box-orient:inherit}swiper[fxflex]>.swiper.s-wrapper{flex:1 1 auto;min-width:0;min-height:0;-webkit-box-flex:1}swiper>.swiper.s-wrapper{width:100%;height:100%}swiper>.swiper.s-wrapper .swiper-wrapper .swiper-slide{will-change:transform;overflow:auto;width:100%;height:100%;max-width:100%;max-height:100%}swiper>.swiper.s-wrapper .swiper-pagination{pointer-events:none}swiper>.swiper.s-wrapper .swiper-pagination .swiper-pagination-handle{position:relative;display:inline-block;padding:4px;margin:2px;cursor:pointer;pointer-events:all}swiper>.swiper.s-wrapper .swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet{display:inline-block;margin:0;pointer-events:none}swiper>.swiper.s-wrapper .swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet.swiper-pagination-bullet-first,swiper>.swiper.s-wrapper .swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet.swiper-pagination-bullet-last{border:1px solid rgba(0,0,0,.5)}swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-button-prev{top:10px;left:50%;margin-top:0;margin-left:-13px;-webkit-transform:rotate(90deg);transform:rotate(90deg)}swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-button-next{top:auto;bottom:10px;left:50%;margin-top:0;margin-left:-13px;-webkit-transform:rotate(90deg);transform:rotate(90deg)}swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-scrollbar{width:8px;-webkit-transition:width 250ms ease-in-out;transition:width 250ms ease-in-out}swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-scrollbar:hover{width:16px}swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-pagination .swiper-pagination-handle{display:block}swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet{display:inline-block}swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet.swiper-pagination-bullet-first,swiper>.swiper.s-wrapper.swiper-container-vertical>.swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet.swiper-pagination-bullet-last{margin:0 -1px}swiper>.swiper.s-wrapper.swiper-container-horizontal>.swiper-scrollbar{height:8px;-webkit-transition:height 250ms ease-in-out;transition:height 250ms ease-in-out}swiper>.swiper.s-wrapper.swiper-container-horizontal>.swiper-scrollbar:hover{height:16px}swiper>.swiper.s-wrapper.swiper-container-horizontal>.swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet.swiper-pagination-bullet-first,swiper>.swiper.s-wrapper.swiper-container-horizontal>.swiper-pagination .swiper-pagination-handle .swiper-pagination-bullet.swiper-pagination-bullet-last{margin:-1px 0}", "@font-face{font-family:swiper-icons;src:url(\"data:application/font-woff;charset=utf-8;base64, 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\") format(\"woff\");font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff;--swiper-navigation-size:44px}.swiper-container{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-container-vertical>.swiper-wrapper{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:-webkit-box;display:flex;-webkit-transition-property:-webkit-transform;transition-property:transform,-webkit-transform;box-sizing:content-box}.swiper-container-android .swiper-slide,.swiper-wrapper{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.swiper-container-multirow>.swiper-wrapper{flex-wrap:wrap}.swiper-container-multirow-column>.swiper-wrapper{flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.swiper-container-free-mode>.swiper-wrapper{-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;margin:0 auto}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;-webkit-transition-property:-webkit-transform;transition-property:transform,-webkit-transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-container-autoheight,.swiper-container-autoheight .swiper-slide{height:auto}.swiper-container-autoheight .swiper-wrapper{-webkit-box-align:start;align-items:flex-start;-webkit-transition-property:height,-webkit-transform;transition-property:transform,height,-webkit-transform}.swiper-container-3d{-webkit-perspective:1200px;perspective:1200px}.swiper-container-3d .swiper-cube-shadow,.swiper-container-3d .swiper-slide,.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top,.swiper-container-3d .swiper-wrapper{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-container-3d .swiper-slide-shadow-left{background-image:-webkit-gradient(linear,right top,left top,from(rgba(0,0,0,.5)),to(rgba(0,0,0,0)));background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-3d .swiper-slide-shadow-right{background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.5)),to(rgba(0,0,0,0)));background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-3d .swiper-slide-shadow-top{background-image:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.5)),to(rgba(0,0,0,0)));background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-3d .swiper-slide-shadow-bottom{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.5)),to(rgba(0,0,0,0)));background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-container-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-container-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-container-horizontal.swiper-container-css-mode>.swiper-wrapper{-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory}.swiper-container-vertical.swiper-container-css-mode>.swiper-wrapper{-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(-1 * var(--swiper-navigation-size)/ 2);z-index:10;cursor:pointer;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;text-transform:none;font-variant:initial}.swiper-button-prev,.swiper-container-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-container-rtl .swiper-button-next:after{content:'prev'}.swiper-button-next,.swiper-container-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-container-rtl .swiper-button-prev:after{content:'next'}.swiper-button-next.swiper-button-white,.swiper-button-prev.swiper-button-white{--swiper-navigation-color:#ffffff}.swiper-button-next.swiper-button-black,.swiper-button-prev.swiper-button-black{--swiper-navigation-color:#000000}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;-webkit-transition:opacity .3s;transition:opacity .3s;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-container-horizontal>.swiper-pagination-bullets,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transform:scale(.33);transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{-webkit-transform:scale(1);transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{-webkit-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{-webkit-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullet{width:8px;height:8px;display:inline-block;border-radius:100%;background:#000;opacity:.2}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet-active{opacity:1;background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-container-vertical>.swiper-pagination-bullets{right:10px;top:50%;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.swiper-container-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:6px 0;display:block}.swiper-container-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:8px}.swiper-container-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;-webkit-transition:transform .2s,top .2s;transition:transform .2s,top .2s}.swiper-container-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 4px}.swiper-container-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap}.swiper-container-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transition:transform .2s,left .2s;transition:transform .2s,left .2s}.swiper-container-horizontal.swiper-container-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transition:transform .2s,right .2s;transition:transform .2s,right .2s}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left top;transform-origin:left top}.swiper-container-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{-webkit-transform-origin:right top;transform-origin:right top}.swiper-container-horizontal>.swiper-pagination-progressbar,.swiper-container-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-container-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-container-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-white{--swiper-pagination-color:#ffffff}.swiper-pagination-black{--swiper-pagination-color:#000000}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:10px;position:relative;-ms-touch-action:none;background:rgba(0,0,0,.1)}.swiper-container-horizontal>.swiper-scrollbar{position:absolute;left:1%;bottom:3px;z-index:50;height:5px;width:98%}.swiper-container-vertical>.swiper-scrollbar{position:absolute;right:3px;top:1%;z-index:50;width:5px;height:98%}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:rgba(0,0,0,.5);border-radius:10px;left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}.swiper-zoom-container{width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;text-align:center}.swiper-zoom-container>canvas,.swiper-zoom-container>img,.swiper-zoom-container>svg{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.swiper-slide-zoomed{cursor:move}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:1s linear infinite swiper-preloader-spin;animation:1s linear infinite swiper-preloader-spin;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper-lazy-preloader-white{--swiper-preloader-color:#fff}.swiper-lazy-preloader-black{--swiper-preloader-color:#000}@-webkit-keyframes swiper-preloader-spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swiper-preloader-spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.swiper-container .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-container-fade.swiper-container-free-mode .swiper-slide{-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out}.swiper-container-fade .swiper-slide{pointer-events:none;-webkit-transition-property:opacity;transition-property:opacity}.swiper-container-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-fade .swiper-slide-active,.swiper-container-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-cube{overflow:visible}.swiper-container-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;-webkit-transform-origin:0 0;transform-origin:0 0;width:100%;height:100%}.swiper-container-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-cube.swiper-container-rtl .swiper-slide{-webkit-transform-origin:100% 0;transform-origin:100% 0}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-next,.swiper-container-cube .swiper-slide-next+.swiper-slide,.swiper-container-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-container-cube .swiper-slide-shadow-bottom,.swiper-container-cube .swiper-slide-shadow-left,.swiper-container-cube .swiper-slide-shadow-right,.swiper-container-cube .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-container-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;background:#000;opacity:.6;-webkit-filter:blur(50px);filter:blur(50px);z-index:0}.swiper-container-flip{overflow:visible}.swiper-container-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-container-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-flip .swiper-slide-active,.swiper-container-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-flip .swiper-slide-shadow-bottom,.swiper-container-flip .swiper-slide-shadow-left,.swiper-container-flip .swiper-slide-shadow-right,.swiper-container-flip .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}"]
    }),
    __param(2, Inject(PLATFORM_ID)),
    __param(3, Optional()), __param(3, Inject(SWIPER_CONFIG))
], SwiperComponent);
export { SwiperComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpcGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1zd2lwZXItd3JhcHBlci8iLCJzb3VyY2VzIjpbImxpYi9zd2lwZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUN0RCxhQUFhLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUNyRCxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFekUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRXJELE9BQU8sRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUNyQixZQUFZLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQVl6RCxJQUFhLGVBQWUsR0FBNUIsTUFBYSxlQUFlO0lBZ0cxQixZQUFvQixJQUFZLEVBQVUsS0FBd0IsRUFDbkMsVUFBa0IsRUFDSixRQUErQjtRQUZ4RCxTQUFJLEdBQUosSUFBSSxDQUFRO1FBQVUsVUFBSyxHQUFMLEtBQUssQ0FBbUI7UUFDbkMsZUFBVSxHQUFWLFVBQVUsQ0FBUTtRQUNKLGFBQVEsR0FBUixRQUFRLENBQXVCO1FBakdwRSxPQUFFLEdBQTRCLElBQUksQ0FBQztRQUVwQyxpQkFBWSxHQUFRLElBQUksQ0FBQztRQUN6QixxQkFBZ0IsR0FBUSxJQUFJLENBQUM7UUFDN0IscUJBQWdCLEdBQVEsSUFBSSxDQUFDO1FBRTNCLFVBQUssR0FBa0IsSUFBSSxDQUFDO1FBRTVCLGFBQVEsR0FBWSxLQUFLLENBQUM7UUFFMUIsZ0JBQVcsR0FBWSxLQUFLLENBQUM7UUFJN0IsbUJBQWMsR0FBWSxJ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QUMsaUJBQWlCLENBQWE7b0RBQTREO0FBQzNEO0lBQXRDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBYzttREFBNEQ7QUFDM0Q7SUFBdEMsTUFBTSxDQUFDLGlCQUFpQixDQUFhO29EQUE0RDtBQUMzRDtJQUF0QyxNQUFNLENBQUMsa0JBQWtCLENBQVk7cURBQTREO0FBQzNEO0lBQXRDLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBSzs0REFBNEQ7QUFDM0Q7SUFBdEMsTUFBTSxDQUFDLHFCQUFxQixDQUFTO3dEQUE0RDtBQUMzRDtJQUF0QyxNQUFNLENBQUMsdUJBQXVCLENBQU87MERBQTREO0FBRTNEO0lBQXRDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBTTtpRUFBNEQ7QUFDM0Q7SUFBdEMsTUFBTSxDQUFDLDBCQUEwQixDQUFJO21FQUE0RDtBQUMzRDtJQUF0QyxNQUFNLENBQUMsd0JBQXdCLENBQU07aUVBQTREO0FBQzNEO0lBQXRDLE1BQU0sQ0FBQywwQkFBMEIsQ0FBSTttRUFBNEQ7QUFDM0Q7SUFBdEMsTUFBTSxDQUFDLDBCQUEwQixDQUFJO21FQUE0RDtBQUMzRDtJQUF0QyxNQUFNLENBQUMsNEJBQTRCLENBQUU7cUVBQTREO0FBOUZ2RixlQUFlO0lBVjNCLFNBQVMsQ0FBQztRQUNULFFBQVEsRUFBRSxRQUFRO1FBQ2xCLFFBQVEsRUFBRSxXQUFXO1FBQ3JCLCszQ0FBc0M7UUFLdEMsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7O0tBQ3RDLENBQUM7SUFrR0csV0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDbkIsV0FBQSxRQUFRLEVBQUUsQ0FBQSxFQUFFLFdBQUEsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFBO0dBbEd6QixlQUFlLENBZ08zQjtTQWhPWSxlQUFlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUExBVEZPUk1fSUQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGlzUGxhdGZvcm1Ccm93c2VyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IE5nWm9uZSwgSW5qZWN0LCBPcHRpb25hbCwgRWxlbWVudFJlZiwgQ29tcG9uZW50LFxuICBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3ksIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlcixcbiAgVmlld0NoaWxkLCBWaWV3RW5jYXBzdWxhdGlvbiwgQ2hhbmdlRGV0ZWN0b3JSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgU3dpcGVyRGlyZWN0aXZlIH0gZnJvbSAnLi9zd2lwZXIuZGlyZWN0aXZlJztcblxuaW1wb3J0IHsgU1dJUEVSX0NPTkZJRywgU3dpcGVyQ29uZmlnLCBTd2lwZXJDb25maWdJbnRlcmZhY2UsXG4gIFN3aXBlckV2ZW50LCBTd2lwZXJFdmVudHMgfSBmcm9tICcuL3N3aXBlci5pbnRlcmZhY2VzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc3dpcGVyJyxcbiAgZXhwb3J0QXM6ICduZ3hTd2lwZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vc3dpcGVyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbXG4gICAgJy4vc3dpcGVyLmNvbXBvbmVudC5jc3MnLFxuICAgICcuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL2Nzcy9zd2lwZXIubWluLmNzcydcbiAgXSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBTd2lwZXJDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xuICBwcml2YXRlIG1vOiBNdXRhdGlvbk9ic2VydmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIHN3aXBlckNvbmZpZzogYW55ID0gbnVsbDtcbiAgcHVibGljIHBhZ2luYXRpb25CYWNrdXA6IGFueSA9IG51bGw7XG4gIHB1YmxpYyBwYWdpbmF0aW9uQ29uZmlnOiBhbnkgPSBudWxsO1xuXG4gIEBJbnB1dCgpIGluZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBASW5wdXQoKSBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpIHBlcmZvcm1hbmNlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgQElucHV0KCkgY29uZmlnPzogU3dpcGVyQ29uZmlnSW50ZXJmYWNlO1xuXG4gIEBJbnB1dCgpIHVzZVN3aXBlckNsYXNzOiBib29sZWFuID0gdHJ1ZTtcblxuICBAT3V0cHV0KCkgaW5kZXhDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcblxuICBAVmlld0NoaWxkKCdzd2lwZXJTbGlkZXMnLCB7IHN0YXRpYzogZmFsc2UgfSkgc3dpcGVyU2xpZGVzPzogRWxlbWVudFJlZjtcblxuICBAVmlld0NoaWxkKFN3aXBlckRpcmVjdGl2ZSwgeyBzdGF0aWM6IGZhbHNlIH0pIGRpcmVjdGl2ZVJlZj86IFN3aXBlckRpcmVjdGl2ZTtcblxuICBnZXQgaXNBdExhc3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICghdGhpcy5kaXJlY3RpdmVSZWYgfHwgIXRoaXMuZGlyZWN0aXZlUmVmLnN3aXBlcigpKSA/XG4gICAgICBmYWxzZSA6IHRoaXMuZGlyZWN0aXZlUmVmLnN3aXBlcigpWydpc0VuZCddO1xuICB9XG5cbiAgZ2V0IGlzQXRGaXJzdCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKCF0aGlzLmRpcmVjdGl2ZVJlZiB8fCAhdGhpcy5kaXJlY3RpdmVSZWYuc3dpcGVyKCkpID9cbiAgICAgIGZhbHNlIDogdGhpcy5kaXJlY3RpdmVSZWYuc3dpcGVyKClbJ2lzQmVnaW5uaW5nJ107XG4gIH1cblxuICBAT3V0cHV0KCdpbml0JyAgICAgICAgICAgICAgICAgICAgICAgKSBTX0lOSVQgICAgICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdiZWZvcmVEZXN0cm95JyAgICAgICAgICAgICAgKSBTX0JFRk9SRURFU1RST1kgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ3Njcm9sbCcgICAgICAgICAgICAgICAgICAgICApIFNfU0NST0xMICAgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3Byb2dyZXNzJyAgICAgICAgICAgICAgICAgICApIFNfUFJPR1JFU1MgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ2tleVByZXNzJyAgICAgICAgICAgICAgICAgICApIFNfS0VZUFJFU1MgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgncmVzaXplJyAgICAgICAgICAgICAgICAgICAgICkgU19SRVNJWkUgICAgICAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnYnJlYWtwb2ludCcgICAgICAgICAgICAgICAgICkgU19CUkVBS1BPSU5UICAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnem9vbUNoYW5nZScgICAgICAgICAgICAgICAgICkgU19aT09NQ0hBTkdFICAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnYWZ0ZXJSZXNpemUnICAgICAgICAgICAgICAgICkgU19BRlRFUlJFU0laRSAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnYmVmb3JlUmVzaXplJyAgICAgICAgICAgICAgICkgU19CRUZPUkVSRVNJWkUgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdiZWZvcmVMb29wRml4JyAgICAgICAgICAgICAgKSBTX0JFRk9SRUxPT1BGSVggICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdsb29wRml4JyAgICAgICAgICAgICAgICAgICAgKSBTX0xPT1BGSVggICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ3NsaWRlck1vdmUnICAgICAgICAgICAgICAgICApIFNfU0xJREVSTU9WRSAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlQ2hhbmdlJyAgICAgICAgICAgICAgICApIFNfU0xJREVDSEFOR0UgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgnc2V0VHJhbnNsYXRlJyAgICAgICAgICAgICAgICkgU19TRVRUUkFOU0xBVEUgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnc2V0VHJhbnNpdGlvbicgICAgICAgICAgICAgICkgU19TRVRUUkFOU0lUSU9OICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdmcm9tRWRnZScgICAgICAgICAgICAgICAgICAgKSBTX0ZST01FREdFICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdyZWFjaEVuZCcgICAgICAgICAgICAgICAgICAgKSBTX1JFQUNIRU5EICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdyZWFjaEJlZ2lubmluZycgICAgICAgICAgICAgKSBTX1JFQUNIQkVHSU5OSU5HICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ2F1dG9wbGF5JyAgICAgICAgICAgICAgICAgICApIFNfQVVUT1BMQVkgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ2F1dG9wbGF5U3RhcnQnICAgICAgICAgICAgICApIFNfQVVUT1BMQVlTVEFSVCAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ2F1dG9wbGF5U3RvcCcgICAgICAgICAgICAgICApIFNfQVVUT1BMQVlTVE9QICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgnaW1hZ2VzUmVhZHknICAgICAgICAgICAgICAgICkgU19JTUFHRVNSRUFEWSAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnbGF6eUltYWdlTG9hZCcgICAgICAgICAgICAgICkgU19MQVpZSU1BR0VMT0FEICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnbGF6eUltYWdlUmVhZHknICAgICAgICAgICAgICkgU19MQVpZSU1BR0VSRUFEWSAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdzY3JvbGxEcmFnRW5kJyAgICAgICAgICAgICAgKSBTX1NDUk9MTERSQUdFTkQgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzY3JvbGxEcmFnTW92ZScgICAgICAgICAgICAgKSBTX1NDUk9MTERSQUdNT1ZFICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzY3JvbGxEcmFnU3RhcnQnICAgICAgICAgICAgKSBTX1NDUk9MTERSQUdTVEFSVCAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ25hdmlnYXRpb25IaWRlJyAgICAgICAgICAgICApIFNfTkFWSUdBVElPTkhJREUgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ25hdmlnYXRpb25TaG93JyAgICAgICAgICAgICApIFNfTkFWSUdBVElPTlNIT1cgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgncGFnaW5hdGlvblJlbmRlcicgICAgICAgICAgICkgU19QQUdJTkFUSU9OUkVOREVSICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgncGFnaW5hdGlvblVwZGF0ZScgICAgICAgICAgICkgU19QQUdJTkFUSU9OVVBEQVRFICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgncGFnaW5hdGlvbkhpZGUnICAgICAgICAgICAgICkgU19QQUdJTkFUSU9OSElERSAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgncGFnaW5hdGlvblNob3cnICAgICAgICAgICAgICkgU19QQUdJTkFUSU9OU0hPVyAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdzd2lwZXJUYXAnICAgICAgICAgICAgICAgICAgKSBTX1RBUCAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJDbGljaycgICAgICAgICAgICAgICAgKSBTX0NMSUNLICAgICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJEb3VibGVUYXAnICAgICAgICAgICAgKSBTX0RPVUJMRVRBUCAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaEVuZCcgICAgICAgICAgICAgKSBTX1RPVUNIRU5EICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaE1vdmUnICAgICAgICAgICAgKSBTX1RPVUNITU9WRSAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaFN0YXJ0JyAgICAgICAgICAgKSBTX1RPVUNIU1RBUlQgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaE1vdmVPcHBvc2l0ZScgICAgKSBTX1RPVUNITU9WRU9QUE9TSVRFICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUcmFuc2l0aW9uRW5kJyAgICAgICAgKSBTX1RSQU5TSVRJT05FTkQgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUcmFuc2l0aW9uU3RhcnQnICAgICAgKSBTX1RSQU5TSVRJT05TVEFSVCAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ3NsaWRlUHJldlRyYW5zaXRpb25FbmQnICAgICApIFNfU0xJREVQUkVWVFJBTlNJVElPTkVORCAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlUHJldlRyYW5zaXRpb25TdGFydCcgICApIFNfU0xJREVQUkVWVFJBTlNJVElPTlNUQVJUICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlTmV4dFRyYW5zaXRpb25FbmQnICAgICApIFNfU0xJREVORVhUVFJBTlNJVElPTkVORCAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlTmV4dFRyYW5zaXRpb25TdGFydCcgICApIFNfU0xJREVORVhUVFJBTlNJVElPTlNUQVJUICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlQ2hhbmdlVHJhbnNpdGlvbkVuZCcgICApIFNfU0xJREVDSEFOR0VUUkFOU0lUSU9ORU5EICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlQ2hhbmdlVHJhbnNpdGlvblN0YXJ0JyApIFNfU0xJREVDSEFOR0VUUkFOU0lUSU9OU1RBUlQgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB6b25lOiBOZ1pvbmUsIHByaXZhdGUgY2RSZWY6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogT2JqZWN0LFxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoU1dJUEVSX0NPTkZJRykgcHJpdmF0ZSBkZWZhdWx0czogU3dpcGVyQ29uZmlnSW50ZXJmYWNlKSB7fVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICBpZiAoIWlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVDbGFzc2VzKCk7XG5cbiAgICAgIGlmICh0aGlzLnN3aXBlclNsaWRlcyAmJiB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5tbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUNsYXNzZXMoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5tby5vYnNlcnZlKHRoaXMuc3dpcGVyU2xpZGVzLm5hdGl2ZUVsZW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlyZWN0aXZlUmVmKSB7XG4gICAgICAgIHRoaXMuU19JTklULmVtaXQoKTtcblxuICAgICAgICB0aGlzLmRpcmVjdGl2ZVJlZi5pbmRleENoYW5nZSA9IHRoaXMuaW5kZXhDaGFuZ2U7XG5cbiAgICAgICAgU3dpcGVyRXZlbnRzLmZvckVhY2goKGV2ZW50TmFtZTogU3dpcGVyRXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5kaXJlY3RpdmVSZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGBTXyR7ZXZlbnROYW1lLnJlcGxhY2UoJ3N3aXBlcicsICcnKS50b1VwcGVyQ2FzZSgpfWA7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZU91dHB1dCA9IG91dHB1dCBhcyBrZXlvZiBTd2lwZXJEaXJlY3RpdmU7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRPdXRwdXQgPSBvdXRwdXQgYXMga2V5b2YgU3dpcGVyQ29tcG9uZW50O1xuXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGl2ZVJlZltkaXJlY3RpdmVPdXRwdXRdID0gdGhpc1tjb21wb25lbnRPdXRwdXRdIGFzIG5ldmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tbykge1xuICAgICAgdGhpcy5tby5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29uZmlnICYmIHRoaXMucGFnaW5hdGlvbkJhY2t1cCkge1xuICAgICAgdGhpcy5jb25maWcucGFnaW5hdGlvbiA9IHRoaXMucGFnaW5hdGlvbkJhY2t1cDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29uZmlnKCk6IFN3aXBlckNvbmZpZ0ludGVyZmFjZSB7XG4gICAgdGhpcy5zd2lwZXJDb25maWcgPSBuZXcgU3dpcGVyQ29uZmlnKHRoaXMuZGVmYXVsdHMpO1xuXG4gICAgdGhpcy5zd2lwZXJDb25maWcuYXNzaWduKHRoaXMuY29uZmlnKTsgLy8gQ3VzdG9tIGNvbmZpZ3VyYXRpb25cblxuICAgIGlmICh0aGlzLnN3aXBlclNsaWRlcyAmJiAodGhpcy5zd2lwZXJDb25maWcucGFnaW5hdGlvbiA9PT0gdHJ1ZSB8fFxuICAgICAgICh0aGlzLnN3aXBlckNvbmZpZy5wYWdpbmF0aW9uICYmIHR5cGVvZiB0aGlzLnN3aXBlckNvbmZpZy5wYWdpbmF0aW9uID09PSAnb2JqZWN0JyAmJlxuICAgICAgICghdGhpcy5zd2lwZXJDb25maWcucGFnaW5hdGlvbi50eXBlIHx8IHRoaXMuc3dpcGVyQ29uZmlnLnBhZ2luYXRpb24udHlwZSA9PT0gJ2J1bGxldHMnKSAmJlxuICAgICAgICF0aGlzLnN3aXBlckNvbmZpZy5wYWdpbmF0aW9uLnJlbmRlckJ1bGxldCAmJiB0aGlzLnN3aXBlckNvbmZpZy5wYWdpbmF0aW9uLmVsID09PSAnLnN3aXBlci1wYWdpbmF0aW9uJykpKVxuICAgIHtcbiAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5jb25maWcgfHzCoHt9O1xuXG4gICAgICBpZiAoIXRoaXMucGFnaW5hdGlvbkNvbmZpZykge1xuICAgICAgICB0aGlzLnBhZ2luYXRpb25CYWNrdXAgPSB0aGlzLmNvbmZpZy5wYWdpbmF0aW9uO1xuXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbmZpZyA9IHtcbiAgICAgICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG5cbiAgICAgICAgICByZW5kZXJCdWxsZXQ6IChpbmRleDogbnVtYmVyLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gdGhpcy5zd2lwZXJTbGlkZXMgPyBBcnJheS5mcm9tKHRoaXMuc3dpcGVyU2xpZGVzLm5hdGl2ZUVsZW1lbnQuY2hpbGRyZW4pIDogW107XG5cbiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKChjaGlsZDogYW55KSA9PiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXBlci1zbGlkZScpKTtcblxuICAgICAgICAgICAgbGV0IGJ1bGxldCA9IGA8c3BhbiBjbGFzcz1cIiR7Y2xhc3NOYW1lfSAke2NsYXNzTmFtZX0tbWlkZGxlXCIgaW5kZXg9XCIke2luZGV4fVwiPjwvc3Bhbj5gO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgYnVsbGV0ID0gYDxzcGFuIGNsYXNzPVwiJHtjbGFzc05hbWV9ICR7Y2xhc3NOYW1lfS1maXJzdFwiIGluZGV4PVwiJHtpbmRleH1cIj48L3NwYW4+YDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IChjaGlsZHJlbi5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICBidWxsZXQgPSBgPHNwYW4gY2xhc3M9XCIke2NsYXNzTmFtZX0gJHtjbGFzc05hbWV9LWxhc3RcIiBpbmRleD1cIiR7aW5kZXh9XCI+PC9zcGFuPmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJzd2lwZXItcGFnaW5hdGlvbi1oYW5kbGVcIiBpbmRleD1cIiR7aW5kZXh9XCI+JHtidWxsZXR9PC9zcGFuPmA7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zd2lwZXJDb25maWcucGFnaW5hdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5wYWdpbmF0aW9uID0gdGhpcy5wYWdpbmF0aW9uQ29uZmlnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb25maWcucGFnaW5hdGlvbiA9IE9iamVjdC5hc3NpZ24oe30gLCB0aGlzLmNvbmZpZy5wYWdpbmF0aW9uLCB0aGlzLnBhZ2luYXRpb25Db25maWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbmZpZyBhcyBTd2lwZXJDb25maWdJbnRlcmZhY2U7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNsYXNzZXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3dpcGVyU2xpZGVzKSB7XG4gICAgICBsZXQgdXBkYXRlTmVlZGVkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5zd2lwZXJTbGlkZXMubmF0aXZlRWxlbWVudC5jaGlsZHJlbjtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoL3N3aXBlci0uKi8udGVzdChjaGlsZHJlbltpXS5jbGFzc05hbWUpID09PSBmYWxzZSkge1xuICAgICAgICAgIHVwZGF0ZU5lZWRlZCA9IHRydWU7XG5cbiAgICAgICAgICBjaGlsZHJlbltpXS5jbGFzc0xpc3QuYWRkKCdzd2lwZXItc2xpZGUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodXBkYXRlTmVlZGVkICYmIHRoaXMuZGlyZWN0aXZlUmVmKSB7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlUmVmLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgcHVibGljIG9uUGFnaW5hdGlvbkNsaWNrKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb25maWcgJiYgdGhpcy5kaXJlY3RpdmVSZWYgJiYgKHRoaXMuY29uZmlnLnBhZ2luYXRpb24gPT09IHRydWUgfHxcbiAgICAgICAodGhpcy5jb25maWcucGFnaW5hdGlvbiAmJiB0eXBlb2YgdGhpcy5jb25maWcucGFnaW5hdGlvbiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAoIXRoaXMuY29uZmlnLnBhZ2luYXRpb24udHlwZSB8fCB0aGlzLmNvbmZpZy5wYWdpbmF0aW9uLnR5cGUgPT09ICdidWxsZXRzJykgJiZcbiAgICAgICAodGhpcy5jb25maWcucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgdGhpcy5jb25maWcucGFnaW5hdGlvbi5lbCA9PT0gJy5zd2lwZXItcGFnaW5hdGlvbicpKSkpXG4gICAge1xuICAgICAgdGhpcy5kaXJlY3RpdmVSZWYuc2V0SW5kZXgoaW5kZXgpO1xuICAgIH1cbiAgfVxufVxuIl19